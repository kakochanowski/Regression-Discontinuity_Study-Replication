reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[reg_panes$sup07=="NA"] <- "NA"
reg_panes$incscore[reg_panes$sup08=="NA"] <- "NA"
reg_panes$incscore[reg_panes$treat=="NA"] <- "NA"
nrow(reg_panes)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[reg_panes$sup07=="NA"] <- "NA"
reg_panes$incscore[reg_panes$sup08=="NA"] <- "NA"
reg_panes$incscore[reg_panes$treat=="NA"] <- "NA"
table(reg_panes$incscore)
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-0
reg_panes$sup08[reg_panes$hv34==9]<-NA
reg_panes$sup08[reg_panes$hv34==2]<-0
reg_panes$sup08[reg_panes$hv34==1]<-0.5
reg_panes$sup08[reg_panes$hv34==3]<-1
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-0
reg_panes$sup08[reg_panes$hv34==9]<-NA
reg_panes$sup08[reg_panes$hv34==2]<-0
reg_panes$sup08[reg_panes$hv34==1]<-0.5
reg_panes$sup08[reg_panes$hv34==3]<-1
table(reg_panes$sup08)
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-0
reg_panes$sup08<- as.na(reg_panes$hv34==9)
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-0
reg_panes$sup08<- as.na(reg_panes$hv34=9)
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-0
as.na(reg_panes$sup08, na = 9)
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-0
is.na(reg_panes$sup08, na = 9)
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-reg_panes$h34
reg_panes$sup08[reg_panes$sup08==9]<-NA
table(reg_panes$h_89)
table(reg_panes$hv34)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-reg_panes$h34
reg_panes$sup08[reg_panes$sup08==9]<-NA
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
#2008
reg_panes$sup08<-reg_panes$h34
reg_panes$sup08[reg_panes$sup08==9]<-NA
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
table(reg_panes$sup07)
#2008
reg_panes$sup08<-reg_panes$h34
reg_panes$sup08[reg_panes$sup08==9]<-NA
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==2]<-0
reg_panes$sup07[reg_panes$h_89==1]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
table(reg_panes$sup07)
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
table(reg_panes$sup07)
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
reg_panes$sup07[reg_panes$h_89==9]<-NA
table(reg_panes$sup07)
knitr::opts_chunk$set(echo = TRUE)
#Packages
library(haven)
library(dplyr)
library(stargazer)
library(lfe)
#Kiersten's WD
getwd()
Round1_Ctrl <- read_dta("/Users/Kiersten/Documents/School/S2_Causal_Inf/PS4_Kochanowski/Data/Round1_Controls_Table1.dta")
Round2 <- read_dta("/Users/Kiersten/Documents/School/S2_Causal_Inf/PS4_Kochanowski/Data/Round2.dta")
Round1_Ctrl <- as.data.frame(Round1_Ctrl)
View(Round1_Ctrl)
Round2 <- as.data.frame(Round2)
View(Round2)
nrow(Round1_Ctrl)
nrow(Round2)
Round1_f <- select(Round1_Ctrl, cash, credit, info, control, q9pdcalq9, exp_total_pc_r1, hhmembers_r1, tsaving_hh_r1, hhh_education, num_adltmalesr1)
View(Round1_f)
Round2_f <- select(Round2, cash, credit, info, control,average_exp2, lit, walls_good, monga, dhaka_remit, dhaka_network, exp_total_pc_r1, subsistencer1, num_adltmalesr1, num_childrenr1, avgQ13earned, constrainedr1, bankedr1, upazila, village, migrant, total_fish, migrant_new)
View(Round2_f)
ra <- felm(data=Round1_f, cash ~ hhmembers_r1 + hhh_education + num_adltmalesr1 + q9pdcalq9 + exp_total_pc_r1 + tsaving_hh_r1)
rb <- felm(data=Round1_f, credit ~ hhmembers_r1 + hhh_education + num_adltmalesr1 + q9pdcalq9 + exp_total_pc_r1 + tsaving_hh_r1)
rc <- felm(data=Round1_f, info ~ hhmembers_r1 + hhh_education + num_adltmalesr1 + q9pdcalq9 + exp_total_pc_r1 + tsaving_hh_r1)
rd <- felm(data=Round1_f, control ~ hhmembers_r1 + hhh_education + num_adltmalesr1 + q9pdcalq9 + exp_total_pc_r1 + tsaving_hh_r1)
stargazer(ra, rb, rc, rd, type="html", header=FALSE, title="Randomization Balance on Observables at Baseline",
style="qje",
se = list(ra$rse, rb$rse, rc$rse, rd$rse),
column.labels = c("Cash Group", "Credit Group", "Info Group", "Control Group"),
omit = "Constant",
covariate.labels = c("Household Size", "Head of House Educ.", "Number of Adult Males", "Total Cal/Person/Day", "Monthly Exp/Person", "Household Savings"))
r4 <- felm(data=Round2_f, cash ~ migrant)
r5 <- felm(data=Round2_f, credit ~ migrant)
r6 <- felm(data=Round2_f, info ~ migrant)
r7 <- felm(data=Round2_f, control ~ migrant)
stargazer(r4, r5, r6, r7, type="html", header=FALSE, title="Program Participation (Migration) Rates",
style="qje",
se = list(r4$rse, r5$rse, r6$rse, r7$rse),
covariate.labels = c("Migrant"),
dep.var.labels.include = TRUE,
omit = "Constant",
column.labels = c("Incentivized", "Not Incentivized"),
column.separate = c(2,2))
#Cluster package
library(cluster)
#Drop outlier
max(Round2_f$total_fish)
Round2_f_sub <- Round2_f[-c(92),]
max(Round2_f_sub$total_fish)
#Model
r8<-felm(average_exp2~cash+credit+info|upazila|0|village, data=Round2_f_sub)
summary(r8)
#Save cluster robust standard errors
cluster_se8 <- as.vector(summary(r8,cluster = c("village"))$coefficients[,"Cluster s.e."])
summary(r8)
stargazer(r8, type="text", header=FALSE, title="Effects of Migration on Consumption Among Remaining Household Members",
style="qje",
se = list(r8$cluster_se8),
covariate.labels = c("Cash", "Credit", "Info"),
dep.var.labels.include = FALSE,
omit = "Constant",
column.labels = c("Total consumption"))
r9<-felm(average_exp2~cash+credit+info|0|0|village, data=Round2_f_sub)
summary(r9)
cluster_se9 <- as.vector(summary(r9,cluster = c("village"))$coefficients[,"Cluster s.e."])
stargazer(r8, r9, type="html", header=FALSE, title="Effects of Migration on Consumption Among Remaining Household Members in 2008",
style="qje",
se = list(r8$cluster_se8, r9$cluster_se9),
covariate.labels = c("Cash", "Credit", "Info"),
dep.var.labels.include = FALSE,
omit = "Constant",
add.lines = list(c("Sub-District FE", "Yes", "No")),
column.labels = c("Total consumption"))
#Constructing ITT variable
Round2_f_sub$ITT<-0
Round2_f_sub$ITT[Round2_f_sub$cash=="1"]<-1
Round2_f_sub$ITT[Round2_f_sub$credit=="1"]<-1
#Model with ITT
r10 <- felm(average_exp2~ITT|upazila|0|village, data=Round2_f_sub)
cluster_se10 <- as.vector(summary(r10,cluster = c("village"))$coefficients[,"Cluster s.e."])
#Model with ITT and following controls: household education, proxy for income, pctg of total expenditure on food, number of adult males, number of children, lacked access to credit, borrowing, total household expenditures/capita at baseline, expectations of support
r11 <- felm(average_exp2 ~ ITT + lit + walls_good + subsistencer1 + num_adltmalesr1 + num_childrenr1 + bankedr1 + exp_total_pc_r1 + monga + dhaka_network + constrainedr1 + bankedr1|upazila|0|village, data=Round2_f_sub)
cluster_se11 <- as.vector(summary(r11,cluster = c("village"))$coefficients[,"Cluster s.e."])
stargazer(r10, r11, type="html", header=FALSE, title="Effects of Migration on Consumption Among Remaining Household Members",
style="qje",
se = list(r10$cluster_se10, r11$cluster_se11),
covariate.labels = c("Intent to Treat"),
dep.var.labels.include = FALSE,
omit = c("Constant", "lit", "walls_good", "subsistencer1", "num_adltmalesr1", "num_childrenr1", "bankedr1", "exp_total_pc_r1", "monga", "dhaka_network", "constrainedr1"),
column.labels = c("Total consumption", "Total consumption"),
add.lines = list(c("Additional controls", "No", "Yes")))
#Checking strong first stage
r12 <- felm(data=Round2_f_sub, migrant ~ ITT)
r13 <- felm(data=Round2_f_sub, migrant ~ cash)
r14 <- felm(data=Round2_f_sub, migrant ~ credit)
#Displaying results
stargazer(r12, r13, r14, type="html", header=FALSE, title="Relationship between Treatment Assignment & Migration",
style="qje",
se = list(r12$rse, r13$rse, r14$rse),
covariate.labels = c("Intent to treat", "Cash", "Credit", "Info"),
dep.var.labels.include = FALSE,
omit = "Constant",
column.labels = c("Migration", "Migration", "Migration"))
r15 <- felm(data=Round2_f_sub, average_exp2 ~ 1 |upazila|(migrant~ITT)|village)
r16 <- felm(data=Round2_f_sub, average_exp2 ~ walls_good + subsistencer1 + num_adltmalesr1 + num_childrenr1 + bankedr1 + exp_total_pc_r1 + monga + dhaka_network + constrainedr1 + bankedr1|upazila|(migrant~ITT + walls_good + subsistencer1 + num_adltmalesr1 + num_childrenr1 + bankedr1 + exp_total_pc_r1 + monga + dhaka_network + constrainedr1 + bankedr1)|village)
stargazer(r15, r16, type="html", header=FALSE, title="Local Average Treatment Effect of Migration on Total Consumption",
style="qje",
se = list(r15$rse, r16$rse),
dep.var.labels.include = TRUE,
omit = c("upazila", "Constant", "walls_good", "subsistencer1", "num_adltmalesr1", "num_childrenr1", "bankedr1", "exp_total_pc_r1", "monga", "dhaka_network", "constrainedr1", "bankedr1"),
covariate.labels = c("IV"),
add.lines = list(c("Controls", "No", "Yes")),
column.labels = c("Total Consumption", "Total Consumption"))
#Constructing ITT variable
Round2_f_sub$ITT<-0
Round2_f_sub$ITT[Round2_f_sub$cash=="1"]<-1
Round2_f_sub$ITT[Round2_f_sub$credit=="1"]<-1
table(Round2_f_sub$ITT)
#Model with ITT
r10 <- felm(average_exp2~ITT|upazila|0|village, data=Round2_f_sub)
cluster_se10 <- as.vector(summary(r10,cluster = c("village"))$coefficients[,"Cluster s.e."])
#Model with ITT and following controls: household education, proxy for income, pctg of total expenditure on food, number of adult males, number of children, lacked access to credit, borrowing, total household expenditures/capita at baseline, expectations of support
r11 <- felm(average_exp2 ~ ITT + lit + walls_good + subsistencer1 + num_adltmalesr1 + num_childrenr1 + bankedr1 + exp_total_pc_r1 + monga + dhaka_network + constrainedr1 + bankedr1|upazila|0|village, data=Round2_f_sub)
cluster_se11 <- as.vector(summary(r11,cluster = c("village"))$coefficients[,"Cluster s.e."])
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
reg_panes$sup07[reg_panes$h_89==9]<-NA
table(reg_panes$sup07)
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-0
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
reg_panes$sup07[reg_panes$h_89==9]<-NA
reg_panes$sup07[reg_panes$h_89==NA]<-NA
table(reg_panes$sup07)
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-NA
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
reg_panes$sup07[reg_panes$h_89==9]<-NA
table(reg_panes$sup07)
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-NA
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
reg_panes$sup07[reg_panes$h_89==9]<-NA
table(reg_panes$sup07)
#2007
reg_panes$sup08<-NA
reg_panes$sup08[reg_panes$hv34==1]<-0
reg_panes$sup08[reg_panes$hv34==2]<-0.5
reg_panes$sup08[reg_panes$hv34==3]<-1
reg_panes$sup08[reg_panes$hv34==9]<-NA
table(reg_panes$sup07)
table(reg_panes$h_89)
table(reg_panes$hv34)
View(reg_panes)
#2007
reg_panes$sup07<-NA
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
reg_panes$sup07[reg_panes$h_89==9]<-NA
table(reg_panes$sup07)
#2007
reg_panes$sup08<-NA
reg_panes$sup08[reg_panes$hv34==1]<-0
reg_panes$sup08[reg_panes$hv34==2]<-0.5
reg_panes$sup08[reg_panes$hv34==3]<-1
reg_panes$sup08[reg_panes$hv34==9]<-NA
table(reg_panes$sup08)
#2007
reg_panes$sup07<-NA
reg_panes$sup07[reg_panes$h_89==1]<-0
reg_panes$sup07[reg_panes$h_89==2]<-0.5
reg_panes$sup07[reg_panes$h_89==3]<-1
reg_panes$sup07[reg_panes$h_89==9]<-NA
table(reg_panes$h_89)
table(reg_panes$sup07)
#2007
reg_panes$sup08<-NA
reg_panes$sup08[reg_panes$hv34==1]<-0
reg_panes$sup08[reg_panes$hv34==2]<-0.5
reg_panes$sup08[reg_panes$hv34==3]<-1
reg_panes$sup08[reg_panes$hv34==9]<-NA
table(reg_panes$hv34)
table(reg_panes$sup08)
reg_panes$ind_reest_sqd <- reg_panes$ind_reest^2
nrow(reg_panes)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[reg_panes$sup07==NA]<-NA
reg_panes$incscore[reg_panes$sup08==NA]<-NA
reg_panes$incscore[reg_panes$treat==NA]<-NA
table(reg_panes$incscore)
nrow(reg_panes)
table(reg_panes$ind_reest)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[reg_panes$sup07==NA]<-NA
reg_panes$incscore[reg_panes$sup08==NA]<-NA
reg_panes$incscore[reg_panes$treat==NA]<-NA
#Disqualifying households with invalid responses to government support question
nrow(reg_panes)
table(reg_panes$ind_reest)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[is.na(reg_panes$sup07)]<-NA
reg_panes$incscore[reg_panes$sup08==NA]<-NA
reg_panes$incscore[reg_panes$treat==NA]<-NA
#Disqualifying households with invalid responses to government support question
nrow(reg_panes)
table(reg_panes$ind_reest)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[is.na(reg_panes$sup07)]<-NA
reg_panes$incscore[is.na(reg_panes$sup08)]<-NA
reg_panes$incscore[is.na(reg_panes$treat)]<-NA
#Disqualifying households with invalid responses to government support question
nrow(reg_panes)
table(reg_panes$ind_reest)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[is.na(reg_panes$sup07)]<-NA
reg_panes$incscore[is.na(reg_panes$sup08)]<-NA
reg_panes$incscore[is.na(reg_panes$treat)]<-NA
table(reg_panes$incscore)
#Disqualifying households with invalid responses to government support question
nrow(reg_panes)
table(reg_panes$ind_reest)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[is.na(reg_panes$sup07)]<-NA
reg_panes$incscore[is.na(reg_panes$sup08)]<-NA
reg_panes$incscore[is.na(reg_panes$treat)]<-NA
nrow(reg_panes$incscore!=NA)
#Disqualifying households with invalid responses to government support question
nrow(reg_panes)
table(reg_panes$ind_reest)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[is.na(reg_panes$sup07)]<-NA
reg_panes$incscore[is.na(reg_panes$sup08)]<-NA
reg_panes$incscore[is.na(reg_panes$treat)]<-NA
count(reg_panes$incscore!=NA)
#Disqualifying households with invalid responses to government support question
nrow(reg_panes)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[is.na(reg_panes$sup07)]<-NA
reg_panes$incscore[is.na(reg_panes$sup08)]<-NA
reg_panes$incscore[is.na(reg_panes$treat)]<-NA
count(is.na(reg_panes$incscore)
#Disqualifying households with invalid responses to government support question
nrow(reg_panes)
reg_panes$incscore <- reg_panes$ind_reest
reg_panes$incscore[is.na(reg_panes$sup07)]<-NA
reg_panes$incscore[is.na(reg_panes$sup08)]<-NA
reg_panes$incscore[is.na(reg_panes$treat)]<-NA
xtile(reg_panes$incscore, probs=NULL, cutpoints=0, n_quantiles = 45)
library(haven)
library(dplyr)
library(stargazer)
library(lfe)
library(tidyverse)
install.packages("statar")
library(statar)
xtile(reg_panes$incscore, probs=NULL, cutpoints=0, n_quantiles = 45)
xtile(reg_panes$incscore, probs=NULL, cutpoints=0)
xtile(reg_panes$incscore, n=45, probs=NULL, cutpoints=0)
ggplot(data=reg_panes,
apping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.5)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.5)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.25)
reg_panes$treat <- as.character(reg_panes$treat)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.25)
reg_panes$treat <- as.character(reg_panes$treat)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.25, position=position_jitter(width=0, height=0.15))
reg_panes$treat <- as.character(reg_panes$treat)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.25, position=position_jitter(width=0, height=0.15))+
geom_vline(xintercept=0))
reg_panes$treat <- as.character(reg_panes$treat)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.25, position=position_jitter(width=0, height=0.15))+
geom_vline(xintercept=0)
reg_panes$treat <- as.character(reg_panes$treat)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.25)+
geom_vline(xintercept=0)
reg_panes$treat <- as.character(reg_panes$treat)
ggplot(data=reg_panes,
mapping = aes(x=incscore, y=treat, color=treat))+
geom_point(size=0.25)+
geom_vline(xintercept=0)
reg_panes %>%
group_by(treat, incscore >= 0) %>%
summarize(count=n())
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, probs=NULL, cutpoints=0)
knitr::opts_chunk$set(echo = TRUE)
pre_df <- data %>% filter(year<2000)
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, probs=NULL, cutpoints=0)
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, probs=NULL, cutpoints=0)
View(reg_panes)
reg_panes$percentile <- xtile(reg_panes$incscore, probs=NULL, cutpoints=0)
View(reg_panes)
help(xtile)
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, probs=NULL, cutpoints=0)
View(reg_panes)
help(xtile)
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, probs=NULL, cutpoints=c(0))
View(reg_panes)
help(xtile)
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, cutpoints=c(0))
View(reg_panes)
help(xtile)
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, probs=(0))
View(reg_panes)
help(xtile)
reg_panes$percentile <- xtile(reg_panes$incscore, n=45, probs=(0.00000))
View(reg_panes)
help(xtile)
reg_panes$percentile <- xtile(reg_panes$incscore, cutpoints = 0)
View(reg_panes)
help(xtile)
reg_panes$percentile_1 <- xtile(reg_panes$incscore, cutpoints = 0)
reg_panes$percentile_below <- xtile((reg_panes$incscore[reg_panes$percentile_1==1]), n=45)
help(xtile)
reg_panes$percentile_1 <- xtile(reg_panes$incscore, cutpoints = 0)
below <- reg_panes$incscore[reg_panes$percentile_1==1]
reg_panes$percentile_below <- cut()
